# Dual Mode Implementation Guide

This document explains how the Matrix-themed GitHub profile supports both light and dark modes seamlessly.

## Implementation Strategy

All visualizations use GitHub's native theme switching via TWO methods:

### Method 1: GitHub's Theme-Aware Image Syntax (Recommended for SVGs)

Used for static SVG files generated by workflows.

```markdown
![Image](./path/image-dark.svg#gh-dark-mode-only)
![Image](./path/image-light.svg#gh-light-mode-only)
```

**Advantages:**
- Simpler syntax
- Better for SVG files in repository
- Native GitHub support
- No HTML required

**Used For:**
- 3D Contribution Graph
- Snake Animation

### Method 2: HTML Picture Element with Media Queries

Used for dynamic API-based images.

```html
<picture>
  <source media="(prefers-color-scheme: dark)" srcset="[DARK_MODE_URL]">
  <source media="(prefers-color-scheme: light)" srcset="[LIGHT_MODE_URL]">
  <img alt="Description" src="[DEFAULT_URL]">
</picture>
```

**Advantages:**
- Works with external URLs
- Browser-native support
- Fallback support for older browsers

**Used For:**
- GitHub Stats Cards
- Streak Stats
- Language Charts
- Activity Graphs
- Profile Summary Cards
- Trophies

## Color Philosophy

### Dark Mode (Matrix Theme)
- **Primary**: Bright Matrix green `#00ff41`
- **Background**: GitHub dark `#0d1117`
- **Gradient**: `#00661a` → `#009929` → `#00cc33` → `#00ff41`
- **Goal**: Authentic Matrix aesthetic with neon green on dark

### Light Mode (Clean Green Theme)
- **Primary**: Dark green `#008000`
- **Background**: White `#ffffff` or light gray `#ebedf0`
- **Gradient**: `#99ffb3` → `#33ff66` → `#00cc33` → `#008000`
- **Goal**: Readable, professional green theme on light backgrounds

## Updated Components

### ✅ Fully Dual-Mode Compatible

1. **GitHub Stats Card**
   - Dark: Matrix green theme
   - Light: Green on white theme

2. **GitHub Streak Stats**
   - Dark: Bright green fire/streaks
   - Light: Dark green with lighter accents

3. **Top Languages (Donut Chart)**
   - Dark: Bright green shades
   - Light: Dark-to-light green gradient

4. **Top Languages (Compact)**
   - Dark: Matrix green bars
   - Light: Dark green bars on white

5. **Profile Summary Cards**
   - Dark: `github_dark` theme
   - Light: `github` theme

6. **GitHub Activity Graph**
   - Dark: Bright green graph on dark
   - Light: Dark green graph on white

7. **3D Contribution Graph**
   - Dark: `profile-night-green.svg`
   - Light: `profile-green-animate.svg`

8. **Snake Animation**
   - Dark: `github-contribution-grid-snake-dark.svg`
   - Light: `github-contribution-grid-snake.svg`

9. **GitHub Trophies**
   - Dark: Matrix theme
   - Light: Flat theme

## Workflow Updates

### profile-3d.yml
Generates TWO versions of the 3D contribution graph:
- Dark mode version with Matrix green colors
- Light mode version with inverted color scheme

### snake.yml
Generates TWO versions of the snake animation:
- Dark mode: `github-contribution-grid-snake-dark.svg`
- Light mode: `github-contribution-grid-snake.svg`

## Testing Your Changes

### Local Testing
1. View README on GitHub
2. Switch between light/dark mode in GitHub settings
3. Verify all visualizations change appropriately

### Browser DevTools Testing
```javascript
// Force dark mode
document.documentElement.setAttribute('data-color-mode', 'dark');

// Force light mode
document.documentElement.setAttribute('data-color-mode', 'light');
```

### GitHub Preview
- Push changes to repository
- View profile in both light and dark modes
- Check mobile responsiveness

## Maintenance Checklist

When adding new visualizations:

- [ ] Create both dark and light mode versions
- [ ] Use `<picture>` element with `prefers-color-scheme`
- [ ] Follow established color gradients from MATRIX_COLORS.md
- [ ] Test in both modes before committing
- [ ] Update documentation if needed
- [ ] Ensure WCAG AA contrast ratios
- [ ] Add rounded corners (`border_radius=10`) for consistency

## Common Issues & Solutions

### Issue: Images don't switch between modes
**Solution**: Check that srcset URLs are correct and accessible. Clear browser cache.

### Issue: Colors don't match Matrix theme
**Solution**: Refer to MATRIX_COLORS.md for exact hex values.

### Issue: Workflow generates only one version
**Solution**: Check workflow YAML has both dark and light mode generation steps.

### Issue: Light mode colors too bright/hard to read
**Solution**: Use darker greens (`#008000`, `#00cc33`) for better contrast on white.

## Best Practices

1. **Consistency**: Use colors from MATRIX_COLORS.md
2. **Accessibility**: Maintain minimum 4.5:1 contrast ratio
3. **Fallback**: Always provide default `src` attribute for older browsers
4. **Performance**: GitHub CDN handles caching automatically
5. **Updates**: Re-run workflows after color changes

## Quick Reference

### Dark Mode Palette
```
Background: #0d1117
Primary:    #00ff41
Secondary:  #00cc33
Tertiary:   #009929
Weak:       #00661a
```

### Light Mode Palette
```
Background: #ffffff or #ebedf0
Primary:    #008000
Secondary:  #00cc33
Tertiary:   #33ff66
Weak:       #99ffb3
```

---

**Last Updated**: November 2024
**Status**: ✅ Fully Implemented
**Compatibility**: GitHub Light Mode ✅ | GitHub Dark Mode ✅
